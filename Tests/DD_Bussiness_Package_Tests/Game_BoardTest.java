package DD_Bussiness_Package_Tests;

import DD_Bussiness_Package.*;
import junit.framework.TestCase;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeEach;

import java.util.ArrayList;

import static org.junit.jupiter.api.Assertions.*;

public class Game_BoardTest extends TestCase {
    Game_Board game;

    @BeforeEach
    public void setUp(){
        game = new Game_Board("D:\\levels_dir\\levels_dir\\level1.txt", 1);
    }


    public void testSetThe_player() {
        Player new_player = new Warrior(1, 1, "testsetplayer", 1, 1, 1, 2);
        game.setThe_player(new_player);
        assertEquals(new_player, game.getThe_player());
    }




    public void testRemove_player() {
        game.remove_player();
        assertEquals(game.getThe_player().getCharacter(), "X");
    }


    public void testTestToString() {
        assertEquals(game.toString(), "#################################################\n" +
                "#....s...###..........................#.........#\n" +
                "#........#B#....##..........##........#.........#\n" +
                "#........#......##..........##........#.........#\n" +
                "#........#............................#.........#\n" +
                "#........#............................#.........#\n" +
                "#........#......##..........##........#.........#\n" +
                "#........#......##s........k##........#.........#\n" +
                "#........#s.................##.......k#.........#\n" +
                "#@...........................Q.................q#\n" +
                "#........#s.................##.......k#.........#\n" +
                "#........#......##s........k##........#.........#\n" +
                "#........#......##..........##........#.........#\n" +
                "#........#............................#.........#\n" +
                "#........#............................#.........#\n" +
                "#........#......##..........##........#.........#\n" +
                "#........#B#....##..........##........#.........#\n" +
                "#....s...###..........................#.........#\n" +
                "#################################################\n");
    }


    public void testSetArrays_Board() {
        ArrayList<ArrayList<Tile>> new_arrays_Board = new ArrayList<ArrayList<Tile>>();
        for(int i=0; i< game.getArrays_Board().size(); i++){
            ArrayList<Tile> curr_new_line = new ArrayList<Tile>();
            for (int j=0; j < game.getArrays_Board().get(0).size(); j++){
                curr_new_line.add(new Empty(j, i));
            }
            new_arrays_Board.add(curr_new_line);
        }
        game.setArrays_Board(new_arrays_Board);
        assertEquals(game.toString(), ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n" +
                ".................................................\n");

    }
}
